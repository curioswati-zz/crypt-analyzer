{% extends "base.html" %}
{% load staticfiles %}
{% load bootstrap3 %}
{% load nvd3_tags %}

{% block title %}Crypt-Analyzer{% endblock %}

{% block css %}
    <!-- nvd3.css -->
    <link href="{% static 'css/nv.d3.css' %}" rel="stylesheet">
{% endblock %}

{% block nvd3 %}
    <!-- d3.js -->
    <script src="{% static 'js/d3.v3.min.js' %}"></script>

    <!-- nv.d3.js -->
	<script src="{% static 'js/nv.d3.min.js' %}"></script>    

    <!-- saveSvgAsPng -->
	<script src="{% static 'js/saveSvgAsPng.js' %}"></script>
	<script src="{% static 'js/saveChart.js' %}"></script>

    {% include_chart_jscss %}
    {% load_chart charttype chartdata "linechart_container" extra %}
{% endblock %}

{% block content %}
    <div class="row">
      <div class="col-md-6">
        <h3>System Configuration</h3>
      </div>
    </div>
    <div class="row" style="font-weight: bold;">
      <div class="col-md-3">
        Processor Architecture
      </div>
      <div class="col-md-2">
        CPUs
      </div>
      <div class="col-md-2">
        RAM
      </div>
      <div class="col-md-2">
        Clock Speed
      </div>
    </div>

    <div class="row">
      <div class="col-md-3">
        {{ sysconfig.architecture }}
      </div>
      <div class="col-md-2">
        {{ sysconfig.cpu }}
      </div>
      <div class="col-md-2">
        {{ sysconfig.ram | floatformat:2}}GiB
      </div>
      <div class="col-md-2">
        {{ sysconfig.clock_speed }}
      </div>
    </div>

    <hr width="100%">

    <div class="row">
      <div class="col-md-6">
        <h3>Analysis Result</h3>
        {% include_container "linechart_container" 350 650 %}
      </div>
      <div class="btn btn-info" onclick="saveChart();">Export Chart as PNG</div>
    </div>

    <hr width="100%">

    <div class="row">

      <div class="col-md-6">
        <h3>Input Details</h3>
        <div class="row res-table table-header">
          <div class="col-md-2">
              S.No.
          </div>
          <div class="col-md-4">
              File Name
          </div>
          <div class="col-md-5">
              File Size
          </div>
        </div>

        {% for file in result %}
        <div class="row res-table">
          <div class="col-md-2">
              {{ forloop.counter }}
          </div>

          <div class="col-md-4">
              {{ file.name }}
          </div>

          <div class="col-md-5">
              {{ file.size }} kb
          </div>

        </div>
      {% endfor %}
      </div>
    </div>

{% endblock %}
